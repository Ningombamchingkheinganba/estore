<div class='max-w-6xl mx-auto bg-white p-8 h-[85vh] overflow-y-auto'>
    <div class='grid grid-cols-1 lg:grid-cols-3 gap-8'>
        <div class='lg:col-span-2 space-y-6 min-h-150px'>
            <div>
                <label class='block text-lg font-semibold mb-2 text-gray-800'>
                    Select Order
                </label>
                <select (change)="selectOrder($event)" class='w-full px-4 py-2 border border-gray-300 rounded-md
                focus:outline-none focus:ring-2 focus:ring-blue-500
                '>
                <option value='0' disabled selected>Please select value</option>
                @for (pastOrder of pastOrders(); track pastOrder) {
                    <option value='{{pastOrder.orderId}}'>
                        {{pastOrder.orderId }} Date: {{pastOrder.orderDate}}
                    </option>
                }
            </select>
            </div>

            @if (pastOrder()) {
                <div class='space-y-6'>
                    <h2 class='text-xl font-semibold text-gray-900'>Previous Orders Details</h2>
                    @for (product of pastOrderProducts(); track product) {
                        <div 
                        class='flex flex-col sm:flex-row gap-4 items-start bg-gray-50 p-4 rounded-lg'
                        >
                            <img 
                            class='w-full sm:w-32 h-32 object-cover rounded-md'
                            [src]="'../../../../assets/images/' + product.productImage" alt='Product Image'>

                            <div class='flex-1 space-y-1'>
                                <h3 class='text-lg font-medium text-gray-800'>
                                    {{product.productName}}
                                </h3>
                                <div class='text-sm text-gray-600'>
                                    <span class='mr-2'>Price:</span>
                                    <span class='font-semibold text-gray-900'>{{product.price | currency: 'USD'}}</span>
                                </div>

                                <div class='text-sm text-gray-600'>
                                    <span class='mr-2'>Quantity:</span>
                                    <span class='font-semibold text-gray-900'>{{product.qty}}</span>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            }

            
        </div>

        <div class='space-y-6'>
            <div class='bg-gray-100 p-5 rounded-lg space-y-2 sticky top-6'>
                <h2 class='text-xl font-semibold text-gray-900 mb-2'>
                    Delivery Address
                </h2>
                <p><strong>Name:</strong> {{pastOrder()?.userName}}</p>
                <p><strong>Address:</strong> {{pastOrder()?.address}}</p>
                <p><strong>City:</strong> {{pastOrder()?.city}}</p>
                <p><strong>State:</strong> {{pastOrder()?.state}}</p>
                <p><strong>Pin:</strong> {{pastOrder()?.pin}}</p>
            </div>

            <div class='bg-gray-100 p-5 rounded-lg space-y-2 sticky mt-12'>
                <h2 class='text-xl font-semibold text-gray-900 mb-2'>Summary</h2>
                <p><strong>Order Total:</strong> {{pastOrder()?.total | currency: 'USD'}}</p>
                <p><strong>Shipping Charges:</strong> Free</p>
                <hr>

                <p class='text-lg font-bold text-gray-900'>Total: {{pastOrder()?.total | currency: 'USD'}}</p>
            </div>
        </div>
    </div>
</div>