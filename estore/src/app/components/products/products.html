<div class="flex flex-wrap justify-evenly gap-6 mt-6">
    @if (productsStoreItem.products().length == 0) {
        <div class='text-center w-full mt-10 text-[50px] text-gray-500 font-medium'>
            <p>
                <fa-icon [icon]="faBoxOpen" class='text-[60px]'></fa-icon>
                No products found
            </p>
        </div>
    } @else {
        @for (product of productsStoreItem.products(); track product.id) {
          <div
            class="w-74 h-96 p-3 flex flex-col rounded-lg shadow-md bg-white">
      
            <!-- Image -->
            <div class="h-full overflow-hidden rounded-md bg-gray-100">
                @defer (on viewport) {
                    <a routerLink="/home/product/{{product.id}}">
                        <img 
                          class="w-full h-full object-cover transition-transform duration-300
                                 ease-in-out transform hover:scale-105"
                          [src]="'../../../../assets/images/' + product.product_img"
                          [alt]="product.product_name">
                    </a>
                } @placeholder {
                    <p>Loading products...</p>
                }
            </div>
            <div class='p-4 text-center'>
                  <h5 class='font-semibold'>
                      <a routerLink="/home/product/{{product.id}}" class='text-black hover:text-black no-underline'>{{product.product_name}}</a>
                  </h5>
                  <p class='text-base font-normal mt-1'>{{product.price | currency: 'USD'}}</p>
                  @if (product.ratings > 0) {
                      <ng-container>
                          <app-ratings [score]="product.ratings"></app-ratings>
                      </ng-container>
                      <button class='flex items-center justify-center gap-2 mt-4 w-full py-2
                      text-white bg-black rounded-lg cursor-pointer hover:bg-gray-800 transition-colors
                      '
                      (click)="addToCart(product)"
                      >
                      <fa-icon [icon]="faShoppingCart" class='text-lg'></fa-icon>
                        <span class='text-sm font-medium'>Add to cart</span>
                      </button>
                  }
              </div>
          </div>
        }
    }
</div>
